(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{202:function(t,e,s){t.exports=s.p+"assets/img/client-server.bf583183.jpeg"},203:function(t,e,s){t.exports=s.p+"assets/img/web-app-evolution.522997b1.jpeg"},204:function(t,e,s){t.exports=s.p+"assets/img/mvc.85e01f97.jpeg"},205:function(t,e,s){t.exports=s.p+"assets/img/uri.57075a0a.jpeg"},206:function(t,e,s){t.exports=s.p+"assets/img/screenshot-postman-get-cars.f00a1802.png"},207:function(t,e,s){t.exports=s.p+"assets/img/screenshot-postman-get-cars-3.a568c2fb.png"},208:function(t,e,s){t.exports=s.p+"assets/img/screenshot-postman-post.28400b6d.png"},209:function(t,e,s){t.exports=s.p+"assets/img/screenshot-postman-put.5dc14808.png"},210:function(t,e,s){t.exports=s.p+"assets/img/screenshot-postman-patch.bd83251e.png"},211:function(t,e,s){t.exports=s.p+"assets/img/screenshot-postman-delete.20daa5e9.png"},247:function(t,e,s){"use strict";s.r(e);var a=[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"agenda"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#agenda","aria-hidden":"true"}},[this._v("#")]),this._v(" Agenda")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("AMA (15 min)")]),t._v(" "),s("li",[t._v("Quiz (20 min)")]),t._v(" "),s("li",[t._v("Break (10 min)")]),t._v(" "),s("li",[t._v("Application Architecture (20 min)")]),t._v(" "),s("li",[t._v("RESTful Web Services (10 min)")]),t._v(" "),s("li",[t._v("RESTful Express (10 min)\n"),s("ul",[s("li",[t._v("CRUD Routes")]),t._v(" "),s("li",[t._v("Route Parameters")]),t._v(" "),s("li",[t._v("Testing with POSTMAN")])])]),t._v(" "),s("li",[t._v("Break (10 min)")]),t._v(" "),s("li",[t._v("EX3-1 Express CRUD")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"application-architecture"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#application-architecture","aria-hidden":"true"}},[this._v("#")]),this._v(" Application Architecture")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Web services, web APIs, REST APIs, RESTful web APIs ... what does it all mean?")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"what-is-an-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-is-an-api","aria-hidden":"true"}},[this._v("#")]),this._v(" What is an API?")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("An application program interface (API) is code that allows two software programs to communicate with each other. The API defines the correct way for a developer to write a program that requests services from an operating system (OS) or other application. APIs are implemented by function calls composed of verbs and nouns. The required syntax is described in the documentation of the application being called.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"what-is-a-web-service"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-is-a-web-service","aria-hidden":"true"}},[this._v("#")]),this._v(" What is a Web Service?")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("In a web service, the Web technology such as HTTP—originally designed for human-to-machine communication—is utilized for machine-to-machine communication, more specifically for transferring machine-readable file formats such as XML and JSON.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("In practice, a web service commonly provides an object-oriented web-based interface to a database server, utilized for example by another web server, or by a mobile app, that provides a user interface to the end user.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"client-server-architecture"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#client-server-architecture","aria-hidden":"true"}},[this._v("#")]),this._v(" Client-Server Architecture")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The main benefits to this architectural model have changed over time, but it is still the prevailing choice for building modern applications. In the context of mobile application development, this allows for a "),e("strong",[this._v("single source of truth")]),this._v(" - meaning that no matter how many clients are using our application, the data is stored in one place and we will have data consistancy across all clients.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(202),alt:"architecture diagram"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(203),alt:"evolution of web applications"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"mvc-design-pattern"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mvc-design-pattern","aria-hidden":"true"}},[this._v("#")]),this._v(" MVC Design Pattern")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Model")]),this._v(": data objects\n"),e("img",{staticStyle:{float:"right",width:"50%"},attrs:{src:s(204)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Controller")]),this._v(": data request handling")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("View")]),this._v(": user interface / presentation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),e("p",[this._v("This course will focus on building the Model and Controller elements of the MCV pattern.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"clean-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clean-code","aria-hidden":"true"}},[this._v("#")]),this._v(" Clean code")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("As we build out our in-class examples and assignments throughout the remainder of this course. I will try to exemplify some of the 'Clean Code' best practice recommendations, with a particular focus on "),s("strong",[t._v("naming rules")]),t._v(", "),s("strong",[t._v("function rules")]),t._v(", "),s("strong",[t._v("comment rules")]),t._v(" and "),s("strong",[t._v("code structure")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("Code is clean if it can be understood easily – by everyone on the team. Clean code can be read and enhanced by a developer other than its original author. With understandability comes readability, changeability, extensibility and maintainability.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"restful-web-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#restful-web-services","aria-hidden":"true"}},[this._v("#")]),this._v(" RESTful Web Services")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%",height:"0","padding-bottom":"76%",position:"relative"}},[e("iframe",{staticClass:"giphy-embed",staticStyle:{position:"absolute"},attrs:{src:"https://giphy.com/embed/9kxEcIwrLNTcQ",width:"100%",height:"100%",frameBorder:"0",allowFullScreen:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:"https://giphy.com/gifs/9kxEcIwrLNTcQ"}},[this._v("via GIPHY")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"definitions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#definitions","aria-hidden":"true"}},[this._v("#")]),this._v(" Definitions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("strong",[this._v("Resource")]),this._v(": A class of data objects")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("strong",[this._v("Endpoint")]),this._v(": The full URI including the path")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("strong",[this._v("Route")]),this._v(": The combination of the resource path and the HTTP verb")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("strong",[this._v("CRUD")]),this._v(": Create, Read, Update, Delete")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"resource-data-model"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resource-data-model","aria-hidden":"true"}},[this._v("#")]),this._v(" Resource / Data Model")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("A core concept in this API design pattern is creating representational data models to define the properties and methods for discrete object components in an application. We refer to these objects as "),e("em",[this._v("resources")]),this._v(" or "),e("em",[this._v("collections")]),this._v(" of resources.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("students")]),this._v(" "),e("li",[this._v("classes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"api-endpoint"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-endpoint","aria-hidden":"true"}},[this._v("#")]),this._v(" API Endpoint")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Becuase we will be using HTTP to act on these resources, we typically construct our URIs using the collective noun form of each resource type as the path. If our fictional application were hosted with the hostname "),e("code",[this._v("api")]),this._v(" on the domain name "),e("code",[this._v("attendance.io")]),this._v(", the URI for the "),e("code",[this._v("students")]),this._v(" collection resource would be")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(205),alt:"https://api.attendance.io/students"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Port number is optional")]),this._v(" "),e("p",[this._v("If it is omitted, the default port for the scheme will be used.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"map-http-to-crud"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#map-http-to-crud","aria-hidden":"true"}},[this._v("#")]),this._v(" Map HTTP to CRUD")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("CRUD Action")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("HTTP Verb")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Resource Path")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Create")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("POST")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/students")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Create a new member of the resource collection")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Read")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/students")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Retrieve the entire resource collection (results may be paginated)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Read")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("GET")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/students/1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Retrieve a specific member of the collection if the path includes a unique identifier segment")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Update")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("PUT")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/students/1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Replace all properties of a given member of the resource collection")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Update")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("PATCH")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/students/1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Update certain properties of a given member of the resrouce collection")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Delete")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("DELETE")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/students/1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Remove a given member from the resrouce collection")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Clarification")]),this._v(" "),e("p",[this._v("Some of the example resource paths above use the unique resource identifier "),e("code",[this._v("1")]),this._v(". This is just an example. You would replace "),e("code",[this._v("1")]),this._v(" with the correct id value for the desired member of the collection that you wish to act upon.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"response-codes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#response-codes","aria-hidden":"true"}},[this._v("#")]),this._v(" Response Codes")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"right"}},[t._v("Code")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Message")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("200")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("OK")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("The request has succeeded.")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("201")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Created")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("The request has succeeded and a new resource has been created as a result of it. This is typically the response sent after a POST request, or after some PUT requests.")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("400")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Bad Request")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("The server cannot or will not process the request due to something that is perceived to be a client error. This includes resource object property validation errors.")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("401")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Unauthorized")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('Although the HTTP standard specifies "unauthorized", semantically this response means "unauthenticated". That is, the client must authenticate itself to get the requested response.')])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("403")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Forbidden")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("The client does not have access rights to the content, i.e. they are unauthorized, so server is rejecting to give proper response. Unlike 401, the client's identity is known to the server.")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("404")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Not found")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("The server can not find requested resource. In the browser, this means the URL is not recognized. In an API, this can also mean that the endpoint is valid but the resource itself does not exist.")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("429")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Too many requests")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v('The user has sent too many requests in a given amount of time ("rate limiting").')])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"right"}},[t._v("500")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Internal server error")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("The server has encountered a situation it doesn't know how to handle. For example, the application server cannot communicate with the database.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),e("p",[this._v("You may still see some web services responding with status code 422 (unprocessable entity) for data validation errors. This used to be quite common. However, the current standards compliant best practice is to use status code 400.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"restful-express"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#restful-express","aria-hidden":"true"}},[this._v("#")]),this._v(" RESTful Express")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The Express framework for Node.js makes it easy to define RESTful route handlers. The Express "),e("code",[this._v("app")]),this._v(" object has convenient methods that correspond to each of the HTTP verbs. So, for a given resource path like "),e("code",[this._v("/api/cars")]),this._v(" from last week's exercise, we can define a full set of CRUD route handlers like this ...")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// return a collection of cars")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:id'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// return the car matching the id value")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("post")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// create a new car")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("patch")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:id'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// update some properties of a car")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("put")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:id'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// replace all properties of a car")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("delete")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:id'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// destroy the record for a car")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("post()")]),t._v(", "),s("code",[t._v("patch()")]),t._v(", and "),s("code",[t._v("put()")]),t._v(" methods all expect a JSON object in the request body. We need to tell our Express app how to parse the request body.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("json")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"route-parameters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#route-parameters","aria-hidden":"true"}},[this._v("#")]),this._v(" Route Parameters")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("Route parameters are named URL segments that are used to capture the values specified at their position in the URL. The captured values are populated in the "),e("code",[this._v("request.params")]),this._v(" object, with the name of the route parameter specified in the path as their respective keys.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("In our route handler functions, we can access the named route parameters via the "),s("code",[t._v("params")]),t._v(" property of the "),s("code",[t._v("request")]),t._v(" object. In the example routes above we have "),s("code",[t._v("/cars/:id")]),t._v(". The “id” property is available as "),s("code",[t._v("request.params.id")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("request.params")]),this._v(" object defaults to "),e("code",[this._v("{}")]),this._v(" (an empty object) if there are no route parameters defined.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"route-prefix"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#route-prefix","aria-hidden":"true"}},[this._v("#")]),this._v(" Route Prefix")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To simplify our code and reduce the opportunity for typos in the route path, we can use the "),e("code",[this._v("app.route()")]),this._v(" method to get a route object and the chain our HTTP verb methods onto that.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("route")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("post")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("route")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:id'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("patch")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("put")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("delete")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"manual-testing-with-postman"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#manual-testing-with-postman","aria-hidden":"true"}},[this._v("#")]),this._v(" Manual testing with Postman")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"ex3-1-express-crud"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ex3-1-express-crud","aria-hidden":"true"}},[this._v("#")]),this._v(" EX3-1 Express CRUD")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"prepare-a-week3-project-folder"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prepare-a-week3-project-folder","aria-hidden":"true"}},[this._v("#")]),this._v(" Prepare a "),e("code",[this._v("week3")]),this._v(" project folder")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mkdir week3\ncd week3\nnpm init -y\ngit init\necho 'node_modules/' > .gitignore\nnpm install express\ncode .\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Copy your "),e("code",[this._v("cars.js")]),this._v(" file from last week's project folder.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Stub out the "),e("code",[this._v("app.js")]),this._v(" file.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token string"}},[t._v("'use strict'")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cars "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'./cars.js'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'express'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("express")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("use")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("json")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:carId'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("post")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("patch")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:carId'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("put")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:carId'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("delete")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:carId'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" port "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port "),s("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("3030")]),t._v("\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("listen")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("port"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token template-string"}},[s("span",{attrs:{class:"token string"}},[t._v("`Server listening on port ")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("port"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v(" ...`")])]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("process.env.port")]),t._v(" reference above is checking if we have defined a value for the port in an environment variable. If it exists that value will be assigned to our application's "),s("code",[t._v("port")]),t._v(" variable. Otherwise, the default value of "),s("code",[t._v("3030")]),t._v(" will be assigned.")]),t._v(" "),s("p",[t._v("We will talk more about using environment variables to customize our Node app in the course module on Production Deployment.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_1-list-the-cars-collection"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-list-the-cars-collection","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. List the cars collection")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("send")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("data"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" cars"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Now lets test it with Postman. We need to create a new "),e("code",[this._v("get")]),this._v(" request in Postman with the URI of our route above: "),e("code",[this._v("localhost:3030/api/cars")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(206),alt:"screenshot"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_2-retrieve-a-single-car-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-retrieve-a-single-car-object","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. Retrieve a single car object")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When we know that we are only interested in one particular resource object, and we know it's unique identifier, we append the object's id value to the route e.g. "),e("code",[this._v("/api/cars/3")]),this._v(". In our route handler function we will use that "),e("code",[this._v("carId")]),this._v(" parameter to find and return the requested object.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:carId'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" car "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" cars"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("find")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("car "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" car"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("carId"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("send")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("data"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" car"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Notice that we need to use the "),s("code",[t._v("parseInt()")]),t._v(" function because all parameter values from the HTTP URI are processed with the type "),s("code",[t._v("string")]),t._v(" and we want to compare it to a "),s("code",[t._v("number")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(207),alt:"screenshot"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_3-create-a-new-car-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-create-a-new-car-object","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. Create a new car object")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To create a new resource object we use the base collection route (e.g. "),e("code",[this._v("/api/cars")]),this._v(") but with the HTTP verb "),e("code",[this._v("POST")]),this._v(". We pass the details for the object that we want to create as a JSON document in the body of the request. Remember earlier we told Express to parse the request body as JSON with the "),e("code",[this._v("app.use(express.json())")]),this._v(" directive.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Lastly, we need to return the newly created object back to the requesting client. Express will use the "),s("code",[t._v("200")]),t._v(" status code by default, which is OK, but it is a better practice to send a "),s("code",[t._v("201 Created")]),t._v(" status when successfully processing a create request. Chain on the "),s("code",[t._v("res.status(201)")]),t._v(" method before the "),s("code",[t._v("send()")]),t._v(" method.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("post")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("make"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" model"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colour"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newCar "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    id"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Date"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("now")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    make"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    model"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    colour\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  cars"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("push")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCar"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("status")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("201")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("send")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("data"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" newCar"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Create a new request tab.")]),t._v(" "),s("li",[t._v("Set the type to POST with the same URI: "),s("code",[t._v("localhost:3030/api/cars")])]),t._v(" "),s("li",[t._v("Under the URI box select the "),s("code",[t._v("body")]),t._v(" tab")]),t._v(" "),s("li",[t._v("Under body, select the "),s("code",[t._v("raw")]),t._v(" type")]),t._v(" "),s("li",[t._v("From the dropdown menu at the end of that row, select "),s("code",[t._v("JSON (application/json)")])]),t._v(" "),s("li",[t._v("Create the JSON document in the large text box in the middle of the screen.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v('"make"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Tesla"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v('"model"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Semi"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v('"colour"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Silver"')]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Click the blue send button")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(208),alt:"screenshot"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_4-update-replace-an-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-update-replace-an-object","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. Update (replace) an object")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It is similar to the create method, but uses the HTTP verb "),e("code",[this._v("PUT")]),this._v(" rather than "),e("code",[this._v("POST")]),this._v(". The request body contains a JSON document with the complete resource object. The URI includes the id in the path just like the "),e("code",[this._v("GET")]),this._v(" request.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Get the target object's id from the "),e("code",[this._v("req.params")]),this._v(", so that we can find the index of that object in our collection array. The "),e("code",[this._v("array.findIndex()")]),this._v(" method works similarly to the "),e("code",[this._v("array.find()")]),this._v(" method, but returns the array index of the matching element rather than the element itself.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Following the happy path (no errors), we will extract the resource properties from the "),s("code",[t._v("req.body")]),t._v(", excluding the "),s("code",[t._v("id")]),t._v(" property. "),s("strong",[t._v("The client should never be allowed to change the unique id of an object.")]),t._v(" Using these properties and the "),s("code",[t._v("carId")]),t._v(" from the "),s("code",[t._v("req.params")]),t._v(", construct a new resource object and assign it to the collection index position of the old object. Finally return the updated object with a "),s("code",[t._v("200")]),t._v(" status code.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("put")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:carId'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" id "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("carId"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" index "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" cars"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("findIndex")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("car "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" car"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" carId"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("make"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" model"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colour"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" updatedCar "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("carId"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" make"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" model"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colour"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  cars"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" updatedCar\n  res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("send")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("data"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" updatedCar"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("We need to check if we found a valid index. The "),e("code",[this._v("findIndex()")]),this._v(" method returns a value of "),e("code",[this._v("-1")]),this._v(" if there was no match and we should send a "),e("code",[this._v("404 error")]),this._v(" response. Our request handler should now look like this ...")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("put")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:carId'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" carId "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("carId"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" index "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" cars"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("findIndex")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("car "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" car"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" carId"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("status")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("404")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("send")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      errors"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          status"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Not found'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          code"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'404'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          title"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Resource does not exist'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          description"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token template-string"}},[s("span",{attrs:{class:"token string"}},[t._v("`We could not find a car with id: ")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("carId"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v("`")])]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("make"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" model"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colour"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" updatedCar "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" carId"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" make"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" model"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colour"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    cars"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" updatedCar\n    res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("send")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("data"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" updatedCar"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),e("p",[this._v("The format of the "),e("code",[this._v("errors")]),this._v(" return value follows the best practice described in the JSON:API specification, which we will look at in more detail in week 9.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("duplicate the current request tab")]),t._v(" "),s("li",[t._v("change the method to "),s("code",[t._v("PUT")])]),t._v(" "),s("li",[t._v("resubmit the "),s("code",[t._v("POST")]),t._v(" request")]),t._v(" "),s("li",[t._v("copy the id from the response body of the POST request and add it to the URI")]),t._v(" "),s("li",[t._v("edit the JSON body to change the colour to "),s("code",[t._v("Sunburst Orange")])]),t._v(" "),s("li",[t._v("click the blue send button")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(209),alt:"screenshot"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_5-update-partial-an-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-update-partial-an-object","aria-hidden":"true"}},[this._v("#")]),this._v(" 5. Update (partial) an object")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In a partial update, the client constructs the request body with only the properties that have changed for a given object. The request URI is the same as the "),e("code",[this._v("PUT")]),this._v(" method, the HTTP verb is changed to "),e("code",[this._v("PATCH")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Start by copying the code from the "),e("code",[this._v("PUT")]),this._v(" request handler. We will change the first two lines in the "),e("code",[this._v("else")]),this._v(" block.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("patch")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/api/cars/:carId'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" id "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("carId"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" index "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" cars"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("findIndex")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("car "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" car"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),s("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" carId"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("status")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("404")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("send")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      errors"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          status"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Not found'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          code"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'404'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          title"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Resource does not exist'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          description"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token template-string"}},[s("span",{attrs:{class:"token string"}},[t._v("`We could not find a car with id: ")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("carId"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v("`")])]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("theRest"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n    "),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" updatedCar "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("assign")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cars"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" theRest"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    cars"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" updatedCar\n    res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("send")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("data"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" updatedCar"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("duplicate the current request tab")]),t._v(" "),s("li",[t._v("change the method to "),s("code",[t._v("PATCH")])]),t._v(" "),s("li",[t._v("resubmit the "),s("code",[t._v("POST")]),t._v(" request")]),t._v(" "),s("li",[t._v("copy the id from the response body of the POST request and add it to the URI")]),t._v(" "),s("li",[t._v("edit the JSON body to change the colour to "),s("code",[t._v("Candy Apple Red")])]),t._v(" "),s("li",[t._v("click the blue send button")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(210),alt:"screenshot"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"_6-delete-an-object"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-delete-an-object","aria-hidden":"true"}},[this._v("#")]),this._v(" 6. Delete an object")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:s(211),alt:"screenshot"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"submit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#submit","aria-hidden":"true"}},[this._v("#")]),this._v(" Submit")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Create a new private repo on GitHub named mad9124-ex3-userid (please substitute "),e("strong",[this._v("your college userid")]),this._v(". i.e. mine would look like mad9124-ex3-mckennr).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Make sure that you have initialized your local project folder with "),e("code",[this._v("git init")]),this._v(" and created a "),e("code",[this._v(".gitignore")]),this._v(" file to exclude the "),e("code",[this._v("node_modules")]),this._v(" folder from your git archive.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"for-next-week"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#for-next-week","aria-hidden":"true"}},[this._v("#")]),this._v(" For next week")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Quiz")]),this._v(" "),e("p",[this._v("There will be a short quiz next class. The questions could come from any of the material referenced above.")])])}],n=s(0),r=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("WeekHeader",{attrs:{number:3,title:"Application Architecture and RESTful APIs"}}),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Quiz 2: Node Modules "),s("Badge",{attrs:{text:"20 mins"}})],1),t._v(" "),s("p",[t._v("There will be a quiz today. It will be worth 2% of your final grade.")])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("An "),s("a",{attrs:{href:"https://searchmicroservices.techtarget.com/definition/application-program-interface-API",target:"_blank",rel:"noopener noreferrer"}},[t._v("Application Programming Interface"),s("OutboundLink")],1),t._v(" (API) is often thought of as a contract that describes a predictable method of accessing the data or functions implemented by another program or module. The shape of the data provided and the "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/Signature/Function",target:"_blank",rel:"noopener noreferrer"}},[t._v("function signatures"),s("OutboundLink")],1),t._v(" remain constant, even if the underlying implementation changes.")]),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("A web service is a software architectural pattern that exposes an API for remotely manipulating collections of resources via the stateless HTTP communications protocol.")]),t._v(" "),s("p",[t._v("Definition from Wikipeadia")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("Web service are built on the broader client server architectural pattern which has a long history going back to the development of "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/ARPANET",target:"_blank",rel:"noopener noreferrer"}},[t._v("ARPANET"),s("OutboundLink")],1),t._v(" in late 1960s. The core premise is that the reponsibilities for various aspects of an application are separated, with some running on the client computers and some running on the centralized server. Clients could be desktop applications, native mobile aplications, web applications, or hybrid applications.")]),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("The typical division of responsibilities has the client manage the presentation of data, user interaction events and navigation. The server is responsibile for authentication, data validation and storage.")]),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("How much application logic resides on the client v.s. the server has shifted over time, with the trend toward pushing more application logic out to the client.")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),s("p",[t._v("There are many design patterns for building an application in the client-server architectural style. The most common for web and mobile apps is the "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller",target:"_blank",rel:"noopener noreferrer"}},[t._v("Model View Controller"),s("OutboundLink")],1),t._v(" (MVC) pattern and it derivitives such as "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel",target:"_blank",rel:"noopener noreferrer"}},[t._v("Model View View-model"),s("OutboundLink")],1),t._v(" (MVVM).")]),t._v(" "),s("p",[t._v("Organizing our code in this way allows us to break the application problem space down into smaller chunks each with specific areas of responsibility. This makes it easier to reason about our code and automate testing.")]),t._v(" "),s("p",[t._v("The MVC pattern divides responsibilities along these lines ...")]),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("Model classes define the data shape (what properties an object has) and the business rules that affect data validation and behavioural capabilities. They also manage the object instance lifecycle - the persistence and retrieval of data from a permenant storage location such as a database.")]),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("These modules are the traffic cops of our applications. They define the route handlers for a web service's API endpoints. They will be responsible for ensuring that the user is authorized to make the request and that any data passed meets the validation requirements, before invoking the appropriate Model modules.")]),t._v(" "),s("p",[t._v("Controller modules are also responsible for correctly formatting the response data payload.")]),t._v(" "),t._m(16),t._v(" "),s("p",[t._v("View components receive response data from the controller modules and manage the display of that data in the user interface. They also respond to user interaction events and collect any new or updated data that needs to be forwarded to the controller for processing.")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),s("p",[s("a",{attrs:{href:"https://medium.com/mindorks/how-to-write-clean-code-lessons-learnt-from-the-clean-code-robert-c-martin-9ffc7aef870c",target:"_blank",rel:"noopener noreferrer"}},[t._v("Lessons learnt from “Clean Code”  —  Robert C. Martin"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://gist.github.com/wojteklu/73c6914cc446146b8b533c0988cf8d29",target:"_blank",rel:"noopener noreferrer"}},[t._v("Summary of 'Clean code' by Robert C. Martin"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Robert_C._Martin",target:"_blank",rel:"noopener noreferrer"}},[t._v("Uncle Bob Martin"),s("OutboundLink")],1),t._v(" has written many books over the years - not all of them an easy read, but "),s("em",[t._v("Clean code : a handbook of agile software craftsmanship")]),t._v(" (available in the Algonquin College Library) should be on every professional developer's (re)reading list. As you progress through your career, you will get new insights from revisiting this text.")]),t._v(" "),t._m(21),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("History of REST")]),t._v(" "),s("p",[t._v("The REST architectural style was created by "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Roy_Fielding",target:"_blank",rel:"noopener noreferrer"}},[t._v("Roy Fielding"),s("OutboundLink")],1),t._v(" in parallel with the development of the HTTP v1.1 protocol from 1996 - 1999. Fielding outlined the principles and constraints of a RESTfull web serivce in his PhD dissertation published in 2000.")])]),t._v(" "),s("p",[t._v("OK, we know what an API is and that web services are a way to expose an API over the internet using the same protocols as web browsers. So, what about RESTful APIs or RESTful web services?")]),t._v(" "),s("p",[t._v("RESTful web services are web services that follow the Representational State Transfer (REST) architectural style by exposing an API that defines all actions with respect to a given resource URI organized to correspond to one of the standard "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Create,_read,_update_and_delete",target:"_blank",rel:"noopener noreferrer"}},[t._v("C.R.U.D."),s("OutboundLink")],1),t._v(" operations mapped to the HTTP verbs.")]),t._v(" "),t._m(22),t._m(23),t._v(" "),s("p",[t._v("Let's unpack that into smaller pieces, starting with a review of some helpful definitions.")]),t._v(" "),t._m(24),t._v(" "),s("ul",[s("li",[s("strong",[t._v("REST")]),t._v(": "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Representational_state_transfer",target:"_blank",rel:"noopener noreferrer"}},[t._v("Representational state transfer"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("strong",[t._v("JSON")]),t._v(": "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/JSON",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript Object Notation"),s("OutboundLink")],1)]),t._v(" "),t._m(25),t._v(" "),s("li",[s("strong",[t._v("Resource Path")]),t._v(": The path portion of the "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Uniform_Resource_Identifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("URI"),s("OutboundLink")],1)]),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28)]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),s("p",[t._v("Suppose that we were building an attendance tracking application. As we think about the problem, two obvious object types (or resources) come to mind:")]),t._v(" "),t._m(31),t._v(" "),s("p",[t._v("Our application would need to keep track of these objects and how they related to each other. We will dig into this topic in more detail in weeks 5 and 6.")]),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),s("br"),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),s("p",[t._v("For each client request received by the server a response should be sent. Included in the header information of that response is a status code. The most common response codes used with RESTful web services are:")]),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),s("p",[t._v("The full list of "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status",target:"_blank",rel:"noopener noreferrer"}},[t._v("standard HTTP response codes"),s("OutboundLink")],1),t._v(" is detailed on the MDN Web Docs site.")]),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),t._m(46),t._v(" "),s("p",[t._v("In order to apply actions to specific members of a resource collection, we need to be able to capture their unique id from the resource path of the URI. Express makes this simple. "),s("a",{attrs:{href:"https://expressjs.com/en/guide/routing.html#route-parameters",target:"_blank",rel:"noopener noreferrer"}},[t._v("From the docs"),s("OutboundLink")],1),t._v(" ...")]),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._m(53),t._v(" "),s("p",[t._v("Postman is a fantastic tool to assist in developing web service APIs. At the simplest level it is a special HTTP client that let's us easily manipulate the header and body content to test API endpoints. We can also use JavaScript to automate some of our tests.")]),t._v(" "),s("p",[t._v("Postman has an extremely rich set of capability to help throughout the full development lifecycle. You can see the promotional video to get an idea.")]),t._v(" "),s("iframe",{attrs:{width:"740",height:"416",src:"https://www.youtube.com/embed/VxY_cz0VQXE",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),t._v(" "),s("p",[t._v("We will be using Postman throughout the course as part of our testing regimen. We will start today with manual testing of our Express route handlers.")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.getpostman.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Download Postman"),s("OutboundLink")],1),t._v(" and run the installer.")]),t._v(" "),t._m(54),t._v(" "),s("p",[t._v("Let's take the example routes above and make them functional.")]),t._v(" "),t._m(55),t._v(" "),t._m(56),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._m(63),t._v(" "),s("p",[t._v("Becuase it is a simple get request, we don't need to specify any other details. Just go ahead and click the big blue [Send] button, and then look at the returned results in the lower portion of the screen.")]),t._v(" "),t._m(64),t._v(" "),s("p",[t._v("This returns the entire collection of car objects as an array. In later modules you will learn how to break up very large result sets into chunks using pagination.")]),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._m(68),t._v(" "),s("p",[t._v("OK. Test it with Postman.")]),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),t._v(" "),s("p",[t._v("We will talk about more robust data validation in later modules, but for now we will simply extract the object properties that we know we need from the request body and create a new unique id using the "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now",target:"_blank",rel:"noopener noreferrer"}},[t._v("Date.now()"),s("OutboundLink")],1),t._v(" method to get an integer representing the number of milliseconds since midnight on January 1st, 1970. There are better ways to generate a unique id but this will do for now.")]),t._v(" "),s("p",[t._v("Now we have all of the data properties for our new car object and we can use the "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push",target:"_blank",rel:"noopener noreferrer"}},[t._v("array.push()"),s("OutboundLink")],1),t._v(" method to add the new object to our collection.")]),t._v(" "),t._m(72),t._v(" "),t._m(73),s("p",[t._v("OK. Test it with Postman.")]),t._v(" "),t._m(74),t._v(" "),t._m(75),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),s("p",[t._v("There are two methods of updating a resource object: replace and patch. Let's look at the replace method first.")]),t._v(" "),t._m(79),t._v(" "),s("p",[t._v("Our route handler function will extract the object properties and update the collection.")]),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),t._m(82),s("p",[t._v("But, what if the client sent a request with an invalid resource id?")]),t._v(" "),t._m(83),t._v(" "),t._m(84),t._m(85),t._v(" "),s("p",[t._v("OK. Test it with Postman.")]),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),t._m(88),t._v(" "),t._m(89),t._v(" "),t._m(90),t._v(" "),s("p",[t._v("First let's change how we extract the object properties from the "),s("code",[t._v("req.body")]),t._v(". We will use JavaScript's "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Rest_in_Object_Destructuring",target:"_blank",rel:"noopener noreferrer"}},[t._v("Rest operator in object destructuring"),s("OutboundLink")],1),t._v(". This means we can isolate the "),s("code",[t._v("id")]),t._v(" property if it is included in the "),s("code",[t._v("req.body")]),t._v(" and stuff all of the remaining properties into a new object variable (every so cleverly named "),s("code",[t._v("theRest")]),t._v(" in this example).")]),t._v(" "),s("p",[t._v("The second trick is to use the "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign",target:"_blank",rel:"noopener noreferrer"}},[t._v("Object.assign()"),s("OutboundLink")],1),t._v(" function to merge the old car object with the updated properties contained in our "),s("code",[t._v("theRest")]),t._v(" variable.")]),t._v(" "),t._m(91),s("p",[t._v("OK. Test it with Postman.")]),t._v(" "),t._m(92),t._v(" "),t._m(93),t._v(" "),t._m(94),t._v(" "),s("p",[t._v("OK. You have seen the pattern. Now complete this last one on your own.")]),t._v(" "),s("ul",[s("li",[t._v("The HTTP verb is DELETE")]),t._v(" "),s("li",[t._v("A delete request has no request body")]),t._v(" "),s("li",[t._v("Check to see if the carId parameter exists, send an error if not")]),t._v(" "),s("li",[t._v("Find the index of the car object in the array")]),t._v(" "),s("li",[t._v("Remove that one element from the array ("),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice",target:"_blank",rel:"noopener noreferrer"}},[t._v("hint"),s("OutboundLink")],1),t._v(")")]),t._v(" "),s("li",[t._v("Return the removed object in the response")])]),t._v(" "),s("p",[t._v("Test it with Postman. It should look like this ...")]),t._v(" "),t._m(95),t._v(" "),t._m(96),t._v(" "),t._m(97),t._v(" "),t._m(98),t._v(" "),s("p",[t._v("Create a commit to include all of your work from today.")]),t._v(" "),s("p",[t._v("Link the local repo to the GitHub repo and sync them up.")]),t._v(" "),s("p",[t._v("Remember to add me as a collaborator so that I can see your code, and submit the GitHub repo's URL on Bright Space.")]),t._v(" "),t._m(99),t._v(" "),s("p",[t._v("Before next week's class, please read these additional online resources.")]),t._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"http://javascript.info/object#cloning-and-merging-object-assign",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript: Cloning and merging, Object.assign"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"http://javascript.info/destructuring-assignment",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript: Destructuring assignment"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"http://javascript.info/async-await",target:"_blank",rel:"noopener noreferrer"}},[t._v("JavaScript Promise: Async/Await"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://hackernoon.com/restful-api-design-step-by-step-guide-2f2c9f9fcdbf",target:"_blank",rel:"noopener noreferrer"}},[t._v("RESTful API Design — Step By Step Guide"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://expressjs.com/en/starter/basic-routing.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express Documentation: Basic Routing"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://blog.bitsrc.io/a-beginners-guide-to-server-side-web-development-with-node-js-17385da09f93",target:"_blank",rel:"noopener noreferrer"}},[t._v("A Beginner’s Guide to Server-Side Web Development with Node.js"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://expressjs.com/en/guide/routing.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express Documention: Routing Guide"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://medium.com/mindorks/how-to-write-clean-code-lessons-learnt-from-the-clean-code-robert-c-martin-9ffc7aef870c",target:"_blank",rel:"noopener noreferrer"}},[t._v("Lessons learnt from “Clean Code”  —  Robert C. Martin"),s("OutboundLink")],1)])])]),t._v(" "),t._m(100)],1)},a,!1,null,null,null);r.options.__file="README.md";e.default=r.exports}}]);