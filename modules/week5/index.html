<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Week 5: Data persistance | MAD9124</title>
    <meta name="description" content="Mobile API Development">
    
    
    <link rel="preload" href="/assets/css/0.styles.084d7c4c.css" as="style"><link rel="preload" href="/assets/js/app.71c37e52.js" as="script"><link rel="preload" href="/assets/js/25.0c2b62eb.js" as="script"><link rel="preload" href="/assets/js/3.bf2a64fb.js" as="script"><link rel="preload" href="/assets/js/5.d875dd4e.js" as="script"><link rel="prefetch" href="/assets/js/2.6573b30c.js"><link rel="prefetch" href="/assets/js/4.db9b657e.js"><link rel="prefetch" href="/assets/js/6.c8e95fd0.js"><link rel="prefetch" href="/assets/js/7.38090071.js"><link rel="prefetch" href="/assets/js/8.bbb7f9ec.js"><link rel="prefetch" href="/assets/js/9.4519aded.js"><link rel="prefetch" href="/assets/js/10.0fd3f93c.js"><link rel="prefetch" href="/assets/js/11.ae8c26a3.js"><link rel="prefetch" href="/assets/js/12.57f9b125.js"><link rel="prefetch" href="/assets/js/13.a589cf42.js"><link rel="prefetch" href="/assets/js/14.3119106c.js"><link rel="prefetch" href="/assets/js/15.c6f416e9.js"><link rel="prefetch" href="/assets/js/16.60cf80b9.js"><link rel="prefetch" href="/assets/js/17.e03883a2.js"><link rel="prefetch" href="/assets/js/18.ca360324.js"><link rel="prefetch" href="/assets/js/19.59eeaff9.js"><link rel="prefetch" href="/assets/js/20.0d907809.js"><link rel="prefetch" href="/assets/js/21.d1a45bec.js"><link rel="prefetch" href="/assets/js/22.56312e0c.js"><link rel="prefetch" href="/assets/js/23.901d07dd.js"><link rel="prefetch" href="/assets/js/24.c90462b4.js"><link rel="prefetch" href="/assets/js/26.4bdddc91.js"><link rel="prefetch" href="/assets/js/27.894b645a.js"><link rel="prefetch" href="/assets/js/28.82a5b267.js"><link rel="prefetch" href="/assets/js/29.a60cef02.js"><link rel="prefetch" href="/assets/js/30.21c01a63.js"><link rel="prefetch" href="/assets/js/31.607866af.js"><link rel="prefetch" href="/assets/js/32.59c25f3c.js"><link rel="prefetch" href="/assets/js/33.996c9705.js"><link rel="prefetch" href="/assets/js/34.6923aabe.js"><link rel="prefetch" href="/assets/js/35.089a238b.js"><link rel="prefetch" href="/assets/js/36.17d82978.js">
    <link rel="stylesheet" href="/assets/css/0.styles.084d7c4c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">MAD9124</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/overview/" class="nav-link">Overview</a></div><div class="nav-item"><a href="/deliverables/" class="nav-link">Deliverables</a></div><div class="nav-item"><a href="/modules/" class="nav-link router-link-active">Modules</a></div><div class="nav-item"><a href="/resources/" class="nav-link">Resources</a></div><div class="nav-item"><a href="https://classroom.github.com/classrooms/46425465-mobile-api-development" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/overview/" class="nav-link">Overview</a></div><div class="nav-item"><a href="/deliverables/" class="nav-link">Deliverables</a></div><div class="nav-item"><a href="/modules/" class="nav-link router-link-active">Modules</a></div><div class="nav-item"><a href="/resources/" class="nav-link">Resources</a></div><div class="nav-item"><a href="https://classroom.github.com/classrooms/46425465-mobile-api-development" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Content Modules</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/modules/" class="sidebar-link">Table of contents</a></li><li><a href="/modules/week1/" class="sidebar-link">Week 1: Introduction &amp; Review</a></li><li><a href="/modules/week2/" class="sidebar-link">Week 2: Node Modules &amp; Express</a></li><li><a href="/modules/week3/" class="sidebar-link">Week 3: RESTful APIs</a></li><li><a href="/modules/week4/" class="sidebar-link">Week 4: Middleware functions</a></li><li><a href="/modules/week5/" class="active sidebar-link">Week 5: Data persistance</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modules/week5/#agenda" class="sidebar-link">Agenda</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#file-system" class="sidebar-link">File system</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modules/week5/#synchronize-cars-json" class="sidebar-link">Synchronize cars.json</a></li></ul></li><li class="sidebar-sub-header"><a href="/modules/week5/#databases" class="sidebar-link">Databases</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modules/week5/#relational-databases" class="sidebar-link">Relational Databases</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#document-databases" class="sidebar-link">Document Databases</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#relational-db-v-s-document-db" class="sidebar-link">Relational DB v.s. Document DB</a></li></ul></li><li class="sidebar-sub-header"><a href="/modules/week5/#schema" class="sidebar-link">Schema</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modules/week5/#sql" class="sidebar-link">SQL</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#mongodb" class="sidebar-link">MongoDB</a></li></ul></li><li class="sidebar-sub-header"><a href="/modules/week5/#hands-on-with-mongodb" class="sidebar-link">Hands on with MongoDB</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/modules/week5/#install-homebrew" class="sidebar-link">Install Homebrew</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#install-mongodb" class="sidebar-link">Install MongoDB</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#install-mongodb-compass" class="sidebar-link">Install MongoDB Compass</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#running-mongodb-locally" class="sidebar-link">Running MongoDB locally</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#connect-to-mongodb-from-node-js" class="sidebar-link">Connect to MongoDB from Node.js</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#mongoose-quick-start" class="sidebar-link">Mongoose Quick Start</a></li></ul></li><li class="sidebar-sub-header"><a href="/modules/week5/#ex5-setup-mongodb" class="sidebar-link">EX5 Setup MongoDB</a></li><li class="sidebar-sub-header"><a href="/modules/week5/#for-next-week" class="sidebar-link">For next week</a></li></ul></li><li><a href="/modules/week6/" class="sidebar-link">Week 6: Object Data Modeling</a></li><li><a href="/modules/break-week/" class="sidebar-link">Break Week: 18 FEB - 22 FEB</a></li><li><a href="/modules/week7/" class="sidebar-link">Week 7: Data security</a></li><li><a href="/modules/week8/" class="sidebar-link">Week 8: Access Control with JWT</a></li><li><a href="/modules/week9/" class="sidebar-link">Week 9: JWT Review</a></li><li><a href="/modules/week10/" class="sidebar-link">Week 10: Consistent Error Handling</a></li><li><a href="/modules/week11/" class="sidebar-link">Week 11: Production Preparation</a></li><li><a href="/modules/week12/" class="sidebar-link">Week 12: Testing</a></li><li><a href="/modules/week13/" class="sidebar-link">Week 13: Production Deployment</a></li><li><a href="/modules/week14/" class="sidebar-link">Week 14: Advanced topics</a></li><li><a href="/modules/week15/" class="sidebar-link">Week 15: Remedial Lab</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1><span class="week">Week 5</span><br> <span class="title">Data persistance and intro to MongoDB</span></h1> <div class="danger custom-block"><p class="custom-block-title">Assignment Due</p> <p>Assignment 1 - Basic CRUD - is due <strong>before</strong> this week's class.</p></div> <div class="danger custom-block"><p class="custom-block-title">Quiz 4: Middleware <span class="badge tip top" data-v-099ab69c>15 mins</span></p> <p>There will be a quiz today. It will be worth 2% of your final grade.</p></div> <h2 id="agenda"><a href="#agenda" aria-hidden="true" class="header-anchor">#</a> Agenda</h2> <ul><li>KPI Survey (30 min)</li> <li>AMA (10 min)</li> <li>Quiz (10 min)</li> <li>Break (10 min)</li> <li>EX5-1 File system (15 min)</li> <li>Relational Databases v.s. Document Databases (20 min)</li> <li>EX5-2 Install MongoDB &amp; Compass (15 mins)</li> <li>Break (10 mins)</li> <li>EX5-3 Connect with Mongoose (30 mins)</li></ul> <h2 id="file-system"><a href="#file-system" aria-hidden="true" class="header-anchor">#</a> File system</h2> <p>Data persistance is about saving the last know state of all data elements in our application. Ultimately, this means saving it to a file on disk somewhere. This could be a local JSON file. It could be a cloud storage service like Amazon's S3 or Google Cloud Storage. More often it is handled by an intermediate database service.</p> <h3 id="synchronize-cars-json"><a href="#synchronize-cars-json" aria-hidden="true" class="header-anchor">#</a> Synchronize <code>cars.json</code></h3> <p>We are going to focus mostly on the database scenario for the rest of the course, but let's examine the local JSON file example for just a minute. If we examine our in-class project from last week, everytime we restarted the application our Cars collection reset to the inital four objects loaded from our <code>cars.js</code> file. With just a few extra lines of code, we could ensure that the current state of our application data was saved every time one of the route handlers is called.</p> <h4 id="convert-cars-js-to-cars-json"><a href="#convert-cars-js-to-cars-json" aria-hidden="true" class="header-anchor">#</a> Convert cars.js to cars.json</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;make&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tesla&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;colour&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Black&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;make&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tesla&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;colour&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Indigo&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;make&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tesla&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token string">&quot;X&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;colour&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Brown&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token property">&quot;make&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tesla&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;colour&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Silver&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h4 id="create-new-utility-function"><a href="#create-new-utility-function" aria-hidden="true" class="header-anchor">#</a> Create new utility function</h4> <p>In our <code>carsRouter.js</code> module, we will need to import the <code>fs</code> core node module -- let's use the Promises version.</p> <p>Then create a new function called <code>writeJsonData</code> that takes a JavaScript data structure as an argument. The function will open our <code>/data/cars.json</code> in write mode, and then write out the <code>data</code> argument converted to JSON format.</p> <p>Wrap the logic in a <code>try/catch</code> block to handle any errors, and ensure the <code>filehandle</code> gets closed by using the <code>finally</code> clause.</p> <div class="language-js extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>promises

<span class="token keyword">const</span> writeJsonData <span class="token operator">=</span> <span class="token keyword">async</span> data <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> filehandle
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    filehandle <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`../data/cars.json`</span></span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> filehandle<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Problem writing cars.json`</span></span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>filehandle <span class="token operator">!==</span> undefined<span class="token punctuation">)</span> <span class="token keyword">await</span> filehandle<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="databases"><a href="#databases" aria-hidden="true" class="header-anchor">#</a> Databases</h2> <p>Most real world applications need to store structured data that reflects the state of the application and is selectively searchable, with appropriate authorization credentials. This is the job of a database.</p> <p>Traditionally databases systems have been based on a series of tables, like a spreadsheet, with the columns representing the properties on a record and each row containing the complete set of properties for that unique record.</p> <h3 id="relational-databases"><a href="#relational-databases" aria-hidden="true" class="header-anchor">#</a> Relational Databases</h3> <p>As we build applications that follow an Object Oriented Design, each table maps to a collection of objects of a given class. Often several of these objects will have some relationship to another. For example in a blog application, an Article will have an Author. Article and Author represent two classes of objects and there is a relationship between specific instances of those objects.</p> <p>We have typically solved the storage of this kind of data with <a href="https://www.dummies.com/programming/sql/knowing-just-enough-about-relational-databases/" target="_blank" rel="noopener noreferrer">Relational Databases<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> -- invented be a guy named <a href="https://searchoracle.techtarget.com/definition/E-F-Codd" target="_blank" rel="noopener noreferrer">Ted Codd<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> at IBM back in the early 1970s.</p> <p>The standard API for interacting with a relational databsae is the <a href="https://en.wikipedia.org/wiki/SQL" target="_blank" rel="noopener noreferrer">Structured Query Language<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (SQL). Some of the most common relational database systems are:</p> <ul><li>MySQL / MariaDB</li> <li>Postgress</li> <li>Oracle DB</li></ul> <h3 id="document-databases"><a href="#document-databases" aria-hidden="true" class="header-anchor">#</a> Document Databases</h3> <p>About 10 years ago, along with the development of Node.js people started wondering if there was a different kind of database model that was a better fit for the rappidly interating developemnt cycle of the JavaScript world. Many variations on the Document Database model also know as NoSQL Databases came into being. All of them centered on the JSON document as the storage model.</p> <p>The biggest attraction with NoSQL databases is the flexibility. There is no need to predefine a table schema as there is with SQL databases. Some examples of NoSQL databases are:</p> <ul><li>Google Firestore</li> <li>AWS Dynamo</li> <li>CouchDB</li> <li>MongoDB</li></ul> <h3 id="relational-db-v-s-document-db"><a href="#relational-db-v-s-document-db" aria-hidden="true" class="header-anchor">#</a> Relational DB v.s. Document DB</h3> <h2 id="schema"><a href="#schema" aria-hidden="true" class="header-anchor">#</a> Schema</h2> <p>A database schema, means to define the shape of the data that we want to store. With SQL databases, this must be defined in advance of storing data. With document databases, there is not database imposed schema. If you can put it in a JSON document, you can store it in the database.</p> <p>You will sometimes hear NoSQL databases referred to as schemaless. This does not mean that our application has no structured data model. It just shifts the responsibility for enforcing it to the application code rather than the database.</p> <p>Let's look at how we would represent the data for a simple attendance tracking application.</p> <h3 id="sql"><a href="#sql" aria-hidden="true" class="header-anchor">#</a> SQL</h3> <p><img src="/assets/img/attendance-er-diagram.49c5cde0.png" alt="entity relationship diagram"></p> <h3 id="mongodb"><a href="#mongodb" aria-hidden="true" class="header-anchor">#</a> MongoDB</h3> <p>Embedded data structures to model relationships. Although there is some benefit to this flexibility for rapid prototyping, there are trade-offs. The biggest one is synchronization of duplicate data. It takes just as much careful planning to build a robust and scalable NoSQL database.</p> <p><strong>Students</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>students<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    _id<span class="token punctuation">:</span> <span class="token number">201800001</span><span class="token punctuation">,</span>
    firstName<span class="token punctuation">:</span> <span class="token string">'Mickey'</span><span class="token punctuation">,</span>
    lastName<span class="token punctuation">:</span> <span class="token string">'Mouse'</span><span class="token punctuation">,</span>
    nickName<span class="token punctuation">:</span> <span class="token string">'Steamboat Willie'</span><span class="token punctuation">,</span>
    email<span class="token punctuation">:</span> <span class="token string">'mickey.mouse@disney.com'</span><span class="token punctuation">,</span>
    githubId<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    birthdate<span class="token punctuation">:</span> <span class="token string">'1928-11-18'</span><span class="token punctuation">,</span>
    imageUrl<span class="token punctuation">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    _id<span class="token punctuation">:</span> <span class="token number">201800002</span><span class="token punctuation">,</span>
    firstName<span class="token punctuation">:</span> <span class="token string">'Minerva'</span><span class="token punctuation">,</span>
    lastName<span class="token punctuation">:</span> <span class="token string">'Mouse'</span><span class="token punctuation">,</span>
    nickName<span class="token punctuation">:</span> <span class="token string">'Minnie'</span><span class="token punctuation">,</span>
    email<span class="token punctuation">:</span> <span class="token string">'minnie.mouse@disney.com'</span><span class="token punctuation">,</span>
    githubId<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    birthdate<span class="token punctuation">:</span> <span class="token string">'1928-11-18'</span><span class="token punctuation">,</span>
    imageUrl<span class="token punctuation">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p><strong>Courses</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  courses<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      _id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      code<span class="token punctuation">:</span> <span class="token string">'MAD9124'</span><span class="token punctuation">,</span>
      title<span class="token punctuation">:</span> <span class="token string">'Mobile API Development'</span><span class="token punctuation">,</span>
      description<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`Students enhance their JavaScript skills to become productive with Full-stack development. They use a hands-on approach to build APIs using Node.JS and a variety of tools, frameworks, libraries and packages. The creation of these modern APIs also requires the students to develop skills with persistent scalable database storage systems. Project work culminates with students creating APIs to be used with websites and mobile applications. Students work individually as well as with other students to complete tasks.`</span></span><span class="token punctuation">,</span>
      sections<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          _id<span class="token punctuation">:</span> <span class="token string">'mad9124w19s300'</span><span class="token punctuation">,</span>
          number<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'Alpha Team'</span><span class="token punctuation">,</span>
          students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          classes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              _id<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
              room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span>
              startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
              students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">201800001</span><span class="token punctuation">,</span> <span class="token number">201800002</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          _id<span class="token punctuation">:</span> <span class="token string">'mad9124w19s301'</span><span class="token punctuation">,</span>
          number<span class="token punctuation">:</span> <span class="token number">301</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'Bravo Team'</span><span class="token punctuation">,</span>
          students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          classes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">21</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">23</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">26</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">28</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">29</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">31</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">32</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">33</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>_id<span class="token punctuation">:</span> <span class="token number">34</span><span class="token punctuation">,</span> room<span class="token punctuation">:</span> <span class="token string">'WT127'</span><span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> students<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="hands-on-with-mongodb"><a href="#hands-on-with-mongodb" aria-hidden="true" class="header-anchor">#</a> Hands on with MongoDB</h2> <h3 id="install-homebrew"><a href="#install-homebrew" aria-hidden="true" class="header-anchor">#</a> Install <a href="https://brew.sh" target="_blank" rel="noopener noreferrer">Homebrew<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>The macOS command line tool package manager. Install it by running this command in the terminal.</p> <div class="language-sh extra-class"><pre class="language-text"><code>/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre></div><h3 id="install-mongodb"><a href="#install-mongodb" aria-hidden="true" class="header-anchor">#</a> Install MongoDB</h3> <p>Use Homebrew to install MongoDB. It will promt you for your macOS password.</p> <div class="language-sh extra-class"><pre class="language-text"><code>brew install mongodb
</code></pre></div><p>Create the default directory that Mongo uses to store the data files. We are going to create it at the root level of your filesystem, so we need to use <code>sudo</code> to get administrator privilages.</p> <div class="language-sh extra-class"><pre class="language-text"><code>sudo mkdir -p /data/db
</code></pre></div><p>Now we need to make sure that your regular user account has permission to access that folder.</p> <div class="language-sh extra-class"><pre class="language-text"><code>sudo chown -R `id -un` /data/db
</code></pre></div><h3 id="install-mongodb-compass"><a href="#install-mongodb-compass" aria-hidden="true" class="header-anchor">#</a> Install MongoDB Compass</h3> <p>If you have worked with MySQL databases in the past you probably used a tool like phpMyAdmin, MySQL WorkBench or Sequel PRO to manage and query your databases. MongoDB has a similar tool call Compass. You can read all about its capabilities on at <a href="https://mongodb.com" target="_blank" rel="noopener noreferrer">MongoDB.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p><img src="/assets/img/screenshot-mongo-products.03a7f95d.png" alt="Select Compass from the products menu"></p> <p>Lets download and install it from the <a href="https://www.mongodb.com/download-center/compass" target="_blank" rel="noopener noreferrer">MongoDB Download Center<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Make sure that you select the latest stable <strong>'community edition'</strong>. That is the free one.</p> <p><img src="/assets/img/screenshot-compass-version.88f79c1f.png" alt="select 1.16.3 (community edition stable) from the version menu"></p> <p>With the correct version selected, click the big green download button.</p> <p><img src="/assets/img/screenshot-compass-download.85a1c56d.png" alt="select 1.16.3 (community edition stable) from the version menu"></p> <h3 id="running-mongodb-locally"><a href="#running-mongodb-locally" aria-hidden="true" class="header-anchor">#</a> Running MongoDB locally</h3> <p>To run MongoDB in our local development environment, we need to start it up in the terminal. The command is</p> <div class="language-sh extra-class"><pre class="language-text"><code>mongod
</code></pre></div><p>This starts the MongoDB server as a <a href="http://www.linfo.org/daemon.html" target="_blank" rel="noopener noreferrer">deamon process<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. It should spit out some startup information including confirmation that it is <strong>running on port 27017</strong> - that is the default port for MongoDB.</p> <p>Now open the MongoDB Compass app and connect using all the default settings.</p> <p><img src="/assets/img/screenshot-compass-connect.8a3ca582.png" alt="click the green connect button in the bottom right of the screen"></p> <h3 id="connect-to-mongodb-from-node-js"><a href="#connect-to-mongodb-from-node-js" aria-hidden="true" class="header-anchor">#</a> Connect to MongoDB from Node.js</h3> <p>In our Node.js app, we need to open a connection to the MongoDB database so that we can store and retrieve our resource objects. MongoDB provides a <a href="https://www.npmjs.com/package/mongodb" target="_blank" rel="noopener noreferrer">official NPM package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> which we can use to interact with the database. To install it in your porject, simply run <code>npm install mongodb</code> in the terminal.</p> <p><strong>However</strong>, for this course we will instead be using a popular data modeling library for MongoDB called <a href="https://mongoosejs.com" target="_blank" rel="noopener noreferrer">Mongoose<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <img alt="preview of the Mongoose website" src="/assets/img/screenshot-mongoose-website.7c3f3a07.png" class="screenshot"> <h3 id="mongoose-quick-start"><a href="#mongoose-quick-start" aria-hidden="true" class="header-anchor">#</a> Mongoose Quick Start</h3> <div class="language-sh extra-class"><pre class="language-text"><code>npm install mongoose
</code></pre></div><p>Create a new file in your project folder called <code>mongooseTest.js</code>. We will give the <code>mongoose.connect</code> method the connection string for our local MongoDB at <code>localhost:27017</code> and then append the name of the database we want to connect to at the end: <code>/test</code>.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Even though we have not previously created this <code>/test</code> database, MongoDB will automatically create it the first time we try to interact with it.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongoose'</span><span class="token punctuation">)</span>
mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'mongodb://localhost:27017/test'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>useNewUrlParser<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>The mongoose.connect() method takes a configuration options object. Here we have used the <code>useNewUrlParser: true</code> option. This is required for connecting to MongoDB servers of version 4.0 or higher. Also, with this option, the port number MUST be included in the connection string.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Cat <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'Cat'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> String<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> kitty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Spot'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
kitty<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>savedKitty <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>savedKitty<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> says 'meow'`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>The <code>mongoose.model</code> method is a class constructor that creates a resource class that we can use to interact with the database. In the example above we are giving it two properties: 'Cat' is the name of the class of objects to store in a collection in the database, and <code>{name: String}</code> is the expected shape of each 'Cat' document.</p> <p><strong>An instance of a Model is a Document.</strong></p> <div class="tip custom-block"><p class="custom-block-title">Naming conventions</p> <p>Models are named as a singular noun and start with a capital letter. Database tables or document collections are named as the plural of the model name and are all lowercase.</p></div> <p>OK. Lets run it and then check the results in MongoDB Compass.</p> <div class="language-sh extra-class"><pre class="language-text"><code>node mongooseTest.js
</code></pre></div><p>Let's try adding another Cat instance to the collection. Change the name on line three and rerun it.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> Cat <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'Cat'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> String<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> kitty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Patches'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
kitty<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>savedKitty <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>savedKitty<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> says 'meow'`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>Let's try adding an age to our next Cat.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> Cat <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'Cat'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> String<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> kitty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Callie'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
kitty<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>savedKitty <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>savedKitty<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> says 'meow'`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>This time, when we check it in Compass the age was not saved. Our Mongoose Model automatically discards any properties that are not predefined. This time change the model schema as well.</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> Cat <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'Cat'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> String<span class="token punctuation">,</span> age<span class="token punctuation">:</span> Number<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> kitty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Callie'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
kitty<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>savedKitty <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>savedKitty<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> says 'meow'`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>We can also insert many objects into the database at once.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Cat <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'Cat'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> String<span class="token punctuation">,</span> age<span class="token punctuation">:</span> Number<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> newCats <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Fluffy'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Pink Spots'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Tabatha'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>
Cat<span class="token punctuation">.</span><span class="token function">insertMany</span><span class="token punctuation">(</span>newCats<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>docs <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>docs<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>We have added many documents to our collection. How do we retrieve them? Add a new line to find all of the <code>cats</code> from the database.</p> <div class="language-js extra-class"><pre class="language-js"><code>Cat<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>listAll<span class="token punctuation">:</span> result<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>How about listing just the Cats with the name 'Spot'?</p> <div class="language-js extra-class"><pre class="language-js"><code>Cat<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Spot'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>spot<span class="token punctuation">:</span> result<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>That found all of the cats with the exact name 'Spot'. But, what if we wanted to check for names <em>like</em> Spot? We can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener noreferrer">regular expressions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to match patterns. Replace the quotes with slashes. Now it will match 'Spot', 'Spots', 'Spotty', or 'Pink Spots'.</p> <div class="language-js extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br></div><pre class="language-js"><code>Cat<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token regex">/Spot/</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>regex<span class="token punctuation">:</span> result<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>Regular expressions can be a very powerful tool. Checkout the <a href="#for-next-week">resources linked below</a> to learn more.</p> <p>Putting it all together, the final version of our <code>mongooseTest.js</code> should look like this.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'use strict'</span>

<span class="token comment">// Import the Mongoose library</span>
<span class="token keyword">const</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongoose'</span><span class="token punctuation">)</span>

<span class="token comment">// Connect the mongoose instance to our MongoDB</span>
mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'mongodb://localhost:27017/test'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>useNewUrlParser<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Define the document model for the 'cats' collection</span>
<span class="token keyword">const</span> Cat <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'Cat'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> String<span class="token punctuation">,</span> age<span class="token punctuation">:</span> Number<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Create a new Cat document and save it to the database</span>
<span class="token keyword">const</span> kitty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Callie'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
kitty<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>savedKitty <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>savedKitty<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> says 'meow'`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// Directly insert an array of Cat property objects</span>
<span class="token keyword">const</span> newCats <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Fluffy'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Pink Spots'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Tabatha'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>
Cat<span class="token punctuation">.</span><span class="token function">insertMany</span><span class="token punctuation">(</span>newCats<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>docs <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>docs<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// List all of the Cats in the collction</span>
Cat<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>listAll<span class="token punctuation">:</span> result<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// List only the Cats with 'Spot' in the name</span>
Cat<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token regex">/Spot/</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span>regex<span class="token punctuation">:</span> result<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>There is a lot more to learn about how to use Mongoose and we will continue next week. In particular we will look at how to integrate Mongoose with our <code>carsRouter.js</code> from last week. In preparation, please review the reading material below.</p> <h2 id="ex5-setup-mongodb"><a href="#ex5-setup-mongodb" aria-hidden="true" class="header-anchor">#</a> EX5 Setup MongoDB</h2> <p>Submit a screenshot of MongoDB Compass showing the connection to localhost:27017/test.cats and the listing of the documents in the collection after our test transactions.</p> <p><img src="/assets/img/screenshot-compass.737178b0.png" alt="example compass screenshot"></p> <h2 id="for-next-week"><a href="#for-next-week" aria-hidden="true" class="header-anchor">#</a> For next week</h2> <p>Before next week's class, please read these additional online resources.</p> <ul><li><a href="https://mongoosejs.com/docs/models.html" target="_blank" rel="noopener noreferrer">Mongoose Docs: Models<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://mongoosejs.com/docs/documents.html" target="_blank" rel="noopener noreferrer">Mongoose Docs: Documents<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://mongoosejs.com/docs/queries.html" target="_blank" rel="noopener noreferrer">Mongoose Docs: Queries<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.lynda.com/JavaScript-tutorials/Regular-expressions/782146/5029404-4.html" target="_blank" rel="noopener noreferrer">Regular Expressions (regex)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (video)</li> <li><a href="https://medium.com/factory-mind/regex-tutorial-a-simple-cheatsheet-by-examples-649dc1c3f285" target="_blank" rel="noopener noreferrer">Regex tutorial — A quick cheatsheet by examples<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="warning custom-block"><p class="custom-block-title">Quiz</p> <p>There will be a short quiz next class. The questions could come from any of the material referenced above.</p></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/8/2019, 4:28:40 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/modules/week4/" class="prev">
          Week 4: Middleware functions
        </a></span> <span class="next"><a href="/modules/week6/">
          Week 6: Object Data Modeling
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/25.0c2b62eb.js" defer></script><script src="/assets/js/3.bf2a64fb.js" defer></script><script src="/assets/js/5.d875dd4e.js" defer></script><script src="/assets/js/app.71c37e52.js" defer></script>
  </body>
</html>
